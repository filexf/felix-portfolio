import{e as jt,r as n}from"./index-Gk7nKi-g.js";var Gt=jt();const ut="carousel",dt="controller",qt="navigation",Qt="no-scroll",Ue="portal",Jt="root",ft="toolbar",Se="loading",Re="error",Me="complete",Zt="placeholder",en=e=>`active-slide-${e}`,pt="flex_center",tn="no_scroll",ht="no_scroll_padding",nn="slide_wrapper",G="prev",q="next",Je="swipe",te="close",mt="onPointerDown",vt="onPointerMove",gt="onPointerUp",Et="onPointerLeave",xt="onPointerCancel",_t="onKeyDown",on="onKeyUp",bt="onWheel",rn="Escape",cn="ArrowLeft",sn="ArrowRight",ln="button",ke="icon",Ct="contain",Ze="cover",an="Unknown action type",Pt="yarl__";function Y(...e){return[...e].filter(Boolean).join(" ")}function L(e){return`${Pt}${e}`}function V(e){return`--${Pt}${e}`}function ce(e,t){return`${e}${t?`_${t}`:""}`}function Fe(e){return t=>ce(e,t)}function un(e,t){var o;return(o=e==null?void 0:e[t])!==null&&o!==void 0?o:t}function wt(...e){return()=>{e.forEach(t=>{t()})}}function Q(e,t,o){return()=>{const r=n.useContext(o);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r}}function Lt(){return typeof window<"u"}function dn(e,t=0){const o=10**t;return Math.round((e+Number.EPSILON)*o)/o}function Nt(e){return e.type===void 0||e.type==="image"}function fn(e,t){return e.imageFit===Ze||e.imageFit!==Ct&&t===Ze}function Ee(e){return typeof e=="string"?Number.parseInt(e,10):e}function ge(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Ee(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function pn(e,t){const o=ge(t),r=o.percent!==void 0?e.width/100*o.percent:o.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function It(e,t){return t>0?(e%t+t)%t:0}function yt(e){return e.length>0}function Ot(e,t){return e[It(t,e.length)]}function We(e,t){return yt(e)?Ot(e,t):void 0}function hn(e){return Nt(e)?e.src:void 0}function mn(e,t,o=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),o))}const vn=Number(n.version.split(".")[0])>=19;function gn(e){return{inert:vn?e:e?"":void 0}}const $e={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[te]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Ct,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function J(e,t){return{name:e,component:t}}function A(e,t){return{module:e,children:t}}function St(e,t,o){return e.module.name===t?o(e):e.children?[A(e.module,e.children.flatMap(r=>{var i;return(i=St(r,t,o))!==null&&i!==void 0?i:[]}))]:[e]}function ee(e,t,o){return e.flatMap(r=>{var i;return(i=St(r,t,o))!==null&&i!==void 0?i:[]})}function En(e,t=[],o=[]){let r=e;const i=g=>{const h=[...r];for(;h.length>0;){const d=h.pop();if((d==null?void 0:d.module.name)===g)return!0;d!=null&&d.children&&h.push(...d.children)}return!1},c=(g,h)=>{if(g===""){r=[A(h,r)];return}r=ee(r,g,d=>[A(h,[d])])},s=(g,h)=>{r=ee(r,g,d=>[A(d.module,[A(h,d.children)])])},l=(g,h,d)=>{r=ee(r,g,P=>{var E;return[A(P.module,[...d?[A(h)]:[],...(E=P.children)!==null&&E!==void 0?E:[],...d?[]:[A(h)]])]})},f=(g,h,d)=>{r=ee(r,g,P=>[...d?[A(h)]:[],P,...d?[]:[A(h)]])},u=g=>{s(dt,g)},m=(g,h)=>{r=ee(r,g,d=>[A(h,d.children)])},v=g=>{r=ee(r,g,h=>h.children)},C=g=>{o.push(g)};return t.forEach(g=>{g({contains:i,addParent:c,append:s,addChild:l,addSibling:f,addModule:u,replace:m,remove:v,augment:C})}),{config:r,augmentation:g=>o.reduce((h,d)=>d(h),g)}}const Rt=n.createContext(null),Be=Q("useDocument","DocumentContext",Rt);function xn({nodeRef:e,children:t}){const o=n.useMemo(()=>{const r=c=>{var s;return((s=c||e.current)===null||s===void 0?void 0:s.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:c=>{var s;return((s=r(c))===null||s===void 0?void 0:s.defaultView)||window}}},[e]);return n.createElement(Rt.Provider,{value:o},t)}const Mt=n.createContext(null),xe=Q("useEvents","EventsContext",Mt);function _n({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const o=n.useMemo(()=>{const r=(s,l)=>{var f;(f=t[s])===null||f===void 0||f.splice(0,t[s].length,...t[s].filter(u=>u!==l))};return{publish:(...[s,l])=>{var f;(f=t[s])===null||f===void 0||f.forEach(u=>u(l))},subscribe:(s,l)=>(t[s]||(t[s]=[]),t[s].push(l),()=>r(s,l)),unsubscribe:r}},[t]);return n.createElement(Mt.Provider,{value:o},e)}const Tt=n.createContext(null),se=Q("useLightboxProps","LightboxPropsContext",Tt);function bn({children:e,...t}){return n.createElement(Tt.Provider,{value:t},e)}const Dt=n.createContext(null),_e=Q("useLightboxState","LightboxStateContext",Dt),At=n.createContext(null),Cn=Q("useLightboxDispatch","LightboxDispatchContext",At);function Pn(e,t){switch(t.type){case"swipe":{const{slides:o}=e,r=(t==null?void 0:t.increment)||0,i=e.globalIndex+r,c=It(i,o.length),s=We(o,c),l=r||t.duration?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:o,currentIndex:c,globalIndex:i,currentSlide:s,animation:l}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:We(t.slides,t.index)}:e;default:throw new Error(an)}}function wn({slides:e,index:t,children:o}){const[r,i]=n.useReducer(Pn,{slides:e,currentIndex:t,globalIndex:t,currentSlide:We(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const c=n.useMemo(()=>({...r,state:r,dispatch:i}),[r,i]);return n.createElement(At.Provider,{value:i},n.createElement(Dt.Provider,{value:c},o))}const kt=n.createContext(null),be=Q("useTimeouts","TimeoutsContext",kt);function Ln({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const o=n.useMemo(()=>{const r=s=>{t.splice(0,t.length,...t.filter(l=>l!==s))};return{setTimeout:(s,l)=>{const f=window.setTimeout(()=>{r(f),s()},l);return t.push(f),f},clearTimeout:s=>{s!==void 0&&(r(s),window.clearTimeout(s))}}},[t]);return n.createElement(kt.Provider,{value:o},e)}const Wt=n.forwardRef(function({label:t,className:o,icon:r,renderIcon:i,onClick:c,style:s,...l},f){const{styles:u,labels:m}=se(),v=un(m,t);return n.createElement("button",{ref:f,type:"button",title:v,"aria-label":v,className:Y(L(ln),o),onClick:c,style:{...s,...u.button},...l},i?i():n.createElement(r,{className:L(ke),style:u.icon}))});function Nn(e,t){const o=r=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return o.displayName=e,o}function le(e,t){return Nn(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const In=le("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),yn=le("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),On=le("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Sn=le("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,o)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/o.length*(t+1),transform:`rotate(${360/o.length*t}, 12, 12)`})))),Rn=le("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),ae=Lt()?n.useLayoutEffect:n.useEffect;function $t(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var o,r;const i=(o=window.matchMedia)===null||o===void 0?void 0:o.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const c=s=>t(s.matches);return(r=i==null?void 0:i.addEventListener)===null||r===void 0||r.call(i,"change",c),()=>{var s;return(s=i==null?void 0:i.removeEventListener)===null||s===void 0?void 0:s.call(i,"change",c)}},[]),e}function Mn(e){let t=0,o=0,r=0;const c=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(c){const s=c[1].split(",").map(Ee);s.length===6?(t=s[4],o=s[5]):s.length===16&&(t=s[12],o=s[13],r=s[14])}return{x:t,y:o,z:r}}function et(e,t){const o=n.useRef(void 0),r=n.useRef(void 0),i=$t();return ae(()=>{var c,s,l;if(e.current&&o.current!==void 0&&!i){const{keyframes:f,duration:u,easing:m,onfinish:v}=t(o.current,e.current.getBoundingClientRect(),Mn(e.current))||{};if(f&&u){(c=r.current)===null||c===void 0||c.cancel(),r.current=void 0;try{r.current=(l=(s=e.current).animate)===null||l===void 0?void 0:l.call(s,f,{duration:u,easing:m})}catch(C){console.error(C)}r.current&&(r.current.onfinish=()=>{r.current=void 0,v==null||v()})}}o.current=void 0}),{prepareAnimation:c=>{o.current=c},isAnimationPlaying:()=>{var c;return((c=r.current)===null||c===void 0?void 0:c.playState)==="running"}}}function Vt(){const e=n.useRef(null),t=n.useRef(void 0),[o,r]=n.useState();return{setContainerRef:n.useCallback(c=>{e.current=c,t.current&&(t.current.disconnect(),t.current=void 0);const s=()=>{if(c){const l=window.getComputedStyle(c),f=u=>parseFloat(u)||0;r({width:Math.round(c.clientWidth-f(l.paddingLeft)-f(l.paddingRight)),height:Math.round(c.clientHeight-f(l.paddingTop)-f(l.paddingBottom))})}else r(void 0)};s(),c&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(s),t.current.observe(c))},[]),containerRef:e,containerRect:o}}function ve(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:o}=be();return n.useCallback((r,i)=>{o(e.current),e.current=t(r,i>0?i:0)},[t,o])}function D(e){const t=n.useRef(e);return ae(()=>{t.current=e}),n.useCallback((...o)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...o)},[])}function tt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Ve(e,t){return n.useMemo(()=>e==null&&t==null?null:o=>{tt(e,o),tt(t,o)},[e,t])}function Tn(e,t=!1){const o=n.useRef(!1);ae(()=>{t&&o.current&&(o.current=!1,e())},[t,e]);const r=n.useCallback(()=>{o.current=!0},[]),i=n.useCallback(()=>{o.current=!1},[]);return{onFocus:r,onBlur:i}}function He(){const[e,t]=n.useState(!1);return ae(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Dn(){const[e]=n.useState({}),t=n.useCallback((i,c)=>{var s;(s=e[i])===null||s===void 0||s.forEach(l=>{c.isPropagationStopped()||l(c)})},[e]),o=n.useMemo(()=>({onPointerDown:i=>t(mt,i),onPointerMove:i=>t(vt,i),onPointerUp:i=>t(gt,i),onPointerLeave:i=>t(Et,i),onPointerCancel:i=>t(xt,i),onKeyDown:i=>t(_t,i),onKeyUp:i=>t(on,i),onWheel:i=>t(bt,i)}),[t]),r=n.useCallback((i,c)=>(e[i]||(e[i]=[]),e[i].unshift(c),()=>{const s=e[i];s&&s.splice(0,s.length,...s.filter(l=>l!==c))}),[e]);return{registerSensors:o,subscribeSensors:r}}function nt(e,t){const o=n.useRef(0),r=ve(),i=D((...c)=>{o.current=Date.now(),e(c)});return n.useCallback((...c)=>{r(()=>{i(c)},t-(Date.now()-o.current))},[t,i,r])}const Te=Fe("slide"),De=Fe("slide_image");function An({slide:e,offset:t,render:o,rect:r,imageFit:i,imageProps:c,onClick:s,onLoad:l,onError:f,style:u}){var m,v,C,g,h,d,P;const[E,b]=n.useState(Se),{publish:I}=xe(),{setTimeout:M}=be(),_=n.useRef(null);n.useEffect(()=>{t===0&&I(en(E))},[t,E,I]);const O=D(w=>{("decode"in w?w.decode():Promise.resolve()).catch(()=>{}).then(()=>{w.parentNode&&(b(Me),M(()=>{l==null||l(w)},0))})}),y=n.useCallback(w=>{_.current=w,w!=null&&w.complete&&O(w)},[O]),R=n.useCallback(w=>{O(w.currentTarget)},[O]),p=D(()=>{b(Re),f==null||f()}),x=fn(e,i),N=(w,z)=>Number.isFinite(w)?w:z,F=N(Math.max(...((v=(m=e.srcSet)===null||m===void 0?void 0:m.map(w=>w.width))!==null&&v!==void 0?v:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((C=_.current)===null||C===void 0?void 0:C.naturalWidth)||0),W=N(Math.max(...((h=(g=e.srcSet)===null||g===void 0?void 0:g.map(w=>w.height))!==null&&h!==void 0?h:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((d=_.current)===null||d===void 0?void 0:d.naturalHeight)||0),Z=F&&W?{maxWidth:`min(${F}px, 100%)`,maxHeight:`min(${W}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},T=(P=e.srcSet)===null||P===void 0?void 0:P.sort((w,z)=>w.width-z.width).map(w=>`${w.src} ${w.width}w`).join(", "),Ce=()=>r&&!x&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,B=T&&r&&Lt()?`${Math.round(Math.min(Ce(),r.width))}px`:void 0,{style:de,className:Pe,...we}=c||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:y,onLoad:R,onError:p,onClick:s,draggable:!1,className:Y(L(De()),x&&L(De("cover")),E!==Me&&L(De("loading")),Pe),style:{...Z,...u,...de},...we,alt:e.alt,sizes:B,srcSet:T,src:e.src}),E!==Me&&n.createElement("div",{className:L(Te(Zt))},E===Se&&(o!=null&&o.iconLoading?o.iconLoading():n.createElement(Sn,{className:Y(L(ke),L(Te(Se)))})),E===Re&&(o!=null&&o.iconError?o.iconError():n.createElement(Rn,{className:Y(L(ke),L(Te(Re)))}))))}const kn=n.forwardRef(function({className:t,children:o,...r},i){const c=n.useRef(null);return n.createElement(xn,{nodeRef:c},n.createElement("div",{ref:Ve(i,c),className:Y(L("root"),t),...r},o))});var k;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(k||(k={}));function Wn(e,t,o,r,i){n.useEffect(()=>wt(e(mt,t),e(vt,o),e(gt,r),e(Et,r),e(xt,r)),[e,t,o,r,i])}var H;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(H||(H={}));const Ae=30;function $n(e,t,o,r,i,c,s,l,f,u,m,v,C,g){const h=n.useRef(0),d=n.useRef([]),P=n.useRef(void 0),E=n.useRef(0),b=n.useRef(H.NONE),I=n.useCallback(p=>{P.current===p.pointerId&&(P.current=void 0,b.current=H.NONE);const x=d.current;x.splice(0,x.length,...x.filter(N=>N.pointerId!==p.pointerId))},[]),M=n.useCallback(p=>{I(p),p.persist(),d.current.push(p)},[I]),_=D(p=>{M(p)}),O=(p,x)=>u&&p>x||f&&p<-x,y=D(p=>{if(d.current.find(x=>x.pointerId===p.pointerId)&&P.current===p.pointerId){const x=Date.now()-E.current,N=h.current;b.current===H.SWIPE?Math.abs(N)>.3*o||Math.abs(N)>5&&x<r?s(N,x):l(N):b.current===H.PULL&&(O(N,2*Ae)?C(N,x):g(N)),h.current=0,b.current=H.NONE}I(p)}),R=D(p=>{const x=d.current.find(N=>N.pointerId===p.pointerId);if(x){const N=P.current===p.pointerId;if(p.buttons===0){N&&h.current!==0?y(p):I(x);return}const F=p.clientX-x.clientX,W=p.clientY-x.clientY;if(P.current===void 0){const Z=T=>{M(p),P.current=p.pointerId,E.current=Date.now(),b.current=T};Math.abs(F)>Math.abs(W)&&Math.abs(F)>Ae&&t(F)?(Z(H.SWIPE),i()):Math.abs(W)>Math.abs(F)&&O(W,Ae)&&(Z(H.PULL),m())}else N&&(b.current===H.SWIPE?(h.current=F,c(F)):b.current===H.PULL&&(h.current=W,v(W)))}});Wn(e,_,R,y)}function Vn({preventDefaultWheelX:e,preventDefaultWheelY:t}){const o=n.useRef(null),r=D(i=>{const c=Math.abs(i.deltaX)>Math.abs(i.deltaY);(c&&e||!c&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var c;i?i.addEventListener("wheel",r,{passive:!1}):(c=o.current)===null||c===void 0||c.removeEventListener("wheel",r),o.current=i},[r])}function Un(e,t,o,r,i,c,s,l,f){const u=n.useRef(0),m=n.useRef(0),v=n.useRef(void 0),C=n.useRef(void 0),g=n.useRef(0),h=n.useRef(void 0),d=n.useRef(0),{setTimeout:P,clearTimeout:E}=be(),b=n.useCallback(()=>{v.current&&(E(v.current),v.current=void 0)},[E]),I=n.useCallback(()=>{C.current&&(E(C.current),C.current=void 0)},[E]),M=D(()=>{e!==k.SWIPE&&(u.current=0,d.current=0,b(),I())});n.useEffect(M,[e,M]);const _=D(y=>{C.current=void 0,u.current===y&&f(u.current)}),O=D(y=>{if(y.ctrlKey||Math.abs(y.deltaY)>Math.abs(y.deltaX))return;const R=p=>{g.current=p,E(h.current),h.current=p>0?P(()=>{g.current=0,h.current=void 0},300):void 0};if(e===k.NONE){if(Math.abs(y.deltaX)<=1.2*Math.abs(g.current)){R(y.deltaX);return}if(!o(-y.deltaX))return;if(m.current+=y.deltaX,b(),Math.abs(m.current)>30)m.current=0,R(0),d.current=Date.now(),c();else{const p=m.current;v.current=P(()=>{v.current=void 0,p===m.current&&(m.current=0)},i)}}else if(e===k.SWIPE){let p=u.current-y.deltaX;if(p=Math.min(Math.abs(p),r)*Math.sign(p),u.current=p,s(p),I(),Math.abs(p)>.2*r){R(y.deltaX),l(p,Date.now()-d.current);return}C.current=P(()=>_(p),2*i)}else R(y.deltaX)});n.useEffect(()=>t(bt,O),[t,O])}const ot=Fe("container"),Ut=n.createContext(null),ue=Q("useController","ControllerContext",Ut);function Fn({children:e,...t}){var o;const{carousel:r,animation:i,controller:c,on:s,styles:l,render:f}=t,{closeOnPullUp:u,closeOnPullDown:m,preventDefaultWheelX:v,preventDefaultWheelY:C}=c,[g,h]=n.useState(),d=_e(),P=Cn(),[E,b]=n.useState(k.NONE),I=n.useRef(0),M=n.useRef(0),_=n.useRef(1),{registerSensors:O,subscribeSensors:y}=Dn(),{subscribe:R,publish:p}=xe(),x=ve(),N=ve(),F=ve(),{containerRef:W,setContainerRef:Z,containerRect:T}=Vt(),Ce=Ve(Vn({preventDefaultWheelX:v,preventDefaultWheelY:C}),Z),B=n.useRef(null),de=Ve(B,void 0),{getOwnerDocument:Pe}=Be(),we=He(),w=a=>(we?-1:1)*(typeof a=="number"?a:1),z=D(()=>{var a;return(a=W.current)===null||a===void 0?void 0:a.focus()}),Xe=D(()=>t),Ke=D(()=>d),fe=n.useCallback(a=>p(G,a),[p]),pe=n.useCallback(a=>p(q,a),[p]),ne=n.useCallback(()=>p(te),[p]),Le=a=>!(r.finite&&(w(a)>0&&d.currentIndex===0||w(a)<0&&d.currentIndex===d.slides.length-1)),ze=a=>{var S;I.current=a,(S=W.current)===null||S===void 0||S.style.setProperty(V("swipe_offset"),`${Math.round(a)}px`)},Ne=a=>{var S,$;M.current=a,_.current=(()=>{const re=m&&a>0?a:u&&a<0?-a:0;return Math.min(Math.max(dn(1-re/60*(1-.5),2),.5),1)})(),(S=W.current)===null||S===void 0||S.style.setProperty(V("pull_offset"),`${Math.round(a)}px`),($=W.current)===null||$===void 0||$.style.setProperty(V("pull_opacity"),`${_.current}`)},{prepareAnimation:Ht}=et(B,(a,S,$)=>{if(B.current&&T)return{keyframes:[{transform:`translate(0, ${a.rect.y-S.y+$.y}px)`,opacity:a.opacity},{transform:"translate(0, 0)",opacity:1}],duration:a.duration,easing:i.easing.fade}}),Ye=(a,S)=>{if(u||m){Ne(a);let $=0;B.current&&($=i.fade*(S?2:1),Ht({rect:B.current.getBoundingClientRect(),opacity:_.current,duration:$})),F(()=>{Ne(0),b(k.NONE)},$),b(k.ANIMATION),S||ne()}},{prepareAnimation:Xt,isAnimationPlaying:Kt}=et(B,(a,S,$)=>{var X;if(B.current&&T&&(!((X=d.animation)===null||X===void 0)&&X.duration)){const U=ge(r.spacing),re=(U.percent?U.percent*T.width/100:U.pixel)||0;return{keyframes:[{transform:`translate(${w(d.globalIndex-a.index)*(T.width+re)+a.rect.x-S.x+$.x}px, 0)`},{transform:"translate(0, 0)"}],duration:d.animation.duration,easing:d.animation.easing}}}),oe=D(a=>{var S,$;const X=a.offset||0,U=X?i.swipe:(S=i.navigation)!==null&&S!==void 0?S:i.swipe,re=!X&&!Kt()?i.easing.navigation:i.easing.swipe;let{direction:he}=a;const me=($=a.count)!==null&&$!==void 0?$:1;let Ie=k.ANIMATION,K=U*me;if(!he){const ie=T==null?void 0:T.width,Qe=a.duration||0,Oe=ie?U/ie*Math.abs(X):U;me!==0?(Qe<Oe?K=K/Oe*Math.max(Qe,Oe/5):ie&&(K=U/ie*(ie-Math.abs(X))),he=w(X)>0?G:q):K=U/2}let ye=0;he===G?Le(w(1))?ye=-me:(Ie=k.NONE,K=U):he===q&&(Le(w(-1))?ye=me:(Ie=k.NONE,K=U)),K=Math.round(K),N(()=>{ze(0),b(k.NONE)},K),B.current&&Xt({rect:B.current.getBoundingClientRect(),index:d.globalIndex}),b(Ie),p(Je,{type:"swipe",increment:ye,duration:K,easing:re})});n.useEffect(()=>{var a,S;!((a=d.animation)===null||a===void 0)&&a.increment&&(!((S=d.animation)===null||S===void 0)&&S.duration)&&x(()=>P({type:"swipe",increment:0}),d.animation.duration)},[d.animation,P,x]);const je=[y,Le,(T==null?void 0:T.width)||0,i.swipe,()=>b(k.SWIPE),a=>ze(a),(a,S)=>oe({offset:a,duration:S,count:1}),a=>oe({offset:a,count:0})],zt=[()=>{m&&b(k.PULL)},a=>Ne(a),a=>Ye(a),a=>Ye(a,!0)];$n(...je,u,m,...zt),Un(E,...je);const Ge=D(()=>{c.focus&&Pe().querySelector(`.${L(Ue)} .${L(ot())}`)&&z()});n.useEffect(Ge,[Ge]);const qe=D(()=>{var a;(a=s.view)===null||a===void 0||a.call(s,{index:d.currentIndex})});n.useEffect(qe,[d.globalIndex,qe]),n.useEffect(()=>wt(R(G,a=>oe({direction:G,...a})),R(q,a=>oe({direction:q,...a})),R(Je,a=>P(a))),[R,oe,P]);const Yt=n.useMemo(()=>({prev:fe,next:pe,close:ne,focus:z,slideRect:T?pn(T,r.padding):{width:0,height:0},containerRect:T||{width:0,height:0},subscribeSensors:y,containerRef:W,setCarouselRef:de,toolbarWidth:g,setToolbarWidth:h}),[fe,pe,ne,z,y,T,W,de,g,h,r.padding]);return n.useImperativeHandle(c.ref,()=>({prev:fe,next:pe,close:ne,focus:z,getLightboxProps:Xe,getLightboxState:Ke}),[fe,pe,ne,z,Xe,Ke]),n.createElement("div",{ref:Ce,className:Y(L(ot()),L(pt)),style:{...E===k.SWIPE?{[V("swipe_offset")]:`${Math.round(I.current)}px`}:null,...E===k.PULL?{[V("pull_offset")]:`${Math.round(M.current)}px`,[V("pull_opacity")]:`${_.current}`}:null,...c.touchAction!=="none"?{[V("controller_touch_action")]:c.touchAction}:null,...l.container},...c.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...O},T&&n.createElement(Ut.Provider,{value:Yt},e,(o=f.controls)===null||o===void 0?void 0:o.call(f)))}const Bn=J(dt,Fn);function j(e){return ce(ut,e)}function rt(e){return ce("slide",e)}function Hn({slide:e,offset:t}){const o=n.useRef(null),{currentIndex:r}=_e(),{slideRect:i,close:c,focus:s}=ue(),{render:l,carousel:{imageFit:f,imageProps:u},on:{click:m},controller:{closeOnBackdropClick:v},styles:{slide:C}}=se(),{getOwnerDocument:g}=Be(),h=t!==0;n.useEffect(()=>{var E;h&&(!((E=o.current)===null||E===void 0)&&E.contains(g().activeElement))&&s()},[h,s,g]);const d=()=>{var E,b,I,M;let _=(E=l.slide)===null||E===void 0?void 0:E.call(l,{slide:e,offset:t,rect:i});return!_&&Nt(e)&&(_=n.createElement(An,{slide:e,offset:t,render:l,rect:i,imageFit:f,imageProps:u,onClick:h?void 0:()=>m==null?void 0:m({index:r})})),_?n.createElement(n.Fragment,null,(b=l.slideHeader)===null||b===void 0?void 0:b.call(l,{slide:e}),((I=l.slideContainer)!==null&&I!==void 0?I:({children:O})=>O)({slide:e,children:_}),(M=l.slideFooter)===null||M===void 0?void 0:M.call(l,{slide:e})):null},P=E=>{const b=o.current,I=E.target instanceof HTMLElement?E.target:void 0;v&&I&&b&&(I===b||Array.from(b.children).find(M=>M===I)&&I.classList.contains(L(nn)))&&c()};return n.createElement("div",{ref:o,className:Y(L(rt()),!h&&L(rt("current")),L(pt)),...gn(h),onClick:P,style:C},d())}function Xn(){const e=se().styles.slide;return n.createElement("div",{className:L("slide"),style:e})}function Kn({carousel:e}){const{slides:t,currentIndex:o,globalIndex:r}=_e(),{setCarouselRef:i}=ue(),c=ge(e.spacing),s=ge(e.padding),l=mn(e,t,1),f=[];if(yt(t))for(let u=o-l;u<=o+l;u+=1){const m=Ot(t,u),v=r-o+u,C=e.finite&&(u<0||u>t.length-1);f.push(C?{key:v}:{key:[`${v}`,hn(m)].filter(Boolean).join("|"),offset:u-o,slide:m})}return n.createElement("div",{ref:i,className:Y(L(j()),f.length>0&&L(j("with_slides"))),style:{[`${V(j("slides_count"))}`]:f.length,[`${V(j("spacing_px"))}`]:c.pixel||0,[`${V(j("spacing_percent"))}`]:c.percent||0,[`${V(j("padding_px"))}`]:s.pixel||0,[`${V(j("padding_percent"))}`]:s.percent||0}},f.map(({key:u,slide:m,offset:v})=>m?n.createElement(Hn,{key:u,slide:m,offset:v}):n.createElement(Xn,{key:u})))}const zn=J(ut,Kn);function Ft(){const{carousel:e}=se(),{slides:t,currentIndex:o}=_e(),r=t.length===0||e.finite&&o===0,i=t.length===0||e.finite&&o===t.length-1;return{prevDisabled:r,nextDisabled:i}}function Yn(e){var t;const o=He(),{publish:r}=xe(),{animation:i}=se(),{prevDisabled:c,nextDisabled:s}=Ft(),l=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,f=nt(()=>r(G),l),u=nt(()=>r(q),l),m=D(v=>{switch(v.key){case rn:r(te);break;case cn:(o?s:c)||(o?u:f)();break;case sn:(o?c:s)||(o?f:u)();break}});n.useEffect(()=>e(_t,m),[e,m])}function it({label:e,icon:t,renderIcon:o,action:r,onClick:i,disabled:c,style:s}){return n.createElement(Wt,{label:e,icon:t,renderIcon:o,className:L(`navigation_${r}`),disabled:c,onClick:i,style:s,...Tn(ue().focus,c)})}function jn({render:{buttonPrev:e,buttonNext:t,iconPrev:o,iconNext:r},styles:i}){const{prev:c,next:s,subscribeSensors:l}=ue(),{prevDisabled:f,nextDisabled:u}=Ft();return Yn(l),n.createElement(n.Fragment,null,e?e():n.createElement(it,{label:"Previous",action:G,icon:yn,renderIcon:o,style:i.navigationPrev,disabled:f,onClick:c}),t?t():n.createElement(it,{label:"Next",action:q,icon:On,renderIcon:r,style:i.navigationNext,disabled:u,onClick:s}))}const Gn=J(qt,jn),ct=L(tn),qn=L(ht);function Qn(e){return"style"in e}function st(e,t,o){const r=window.getComputedStyle(e),i=o?"padding-left":"padding-right",c=o?r.paddingLeft:r.paddingRight,s=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Ee(c)||0)+t}px`),()=>{s?e.style.setProperty(i,s):e.style.removeProperty(i)}}function Jn({noScroll:{disabled:e},children:t}){const o=He(),{getOwnerDocument:r,getOwnerWindow:i}=Be();return n.useEffect(()=>{if(e)return()=>{};const c=[],s=i(),{body:l,documentElement:f}=r(),u=Math.round(s.innerWidth-f.clientWidth);if(u>0){c.push(st(l,u,o));const m=l.getElementsByTagName("*");for(let v=0;v<m.length;v+=1){const C=m[v];Qn(C)&&s.getComputedStyle(C).getPropertyValue("position")==="fixed"&&!C.classList.contains(qn)&&c.push(st(C,u,o))}}return l.classList.add(ct),()=>{l.classList.remove(ct),c.forEach(m=>m())}},[o,e,r,i]),n.createElement(n.Fragment,null,t)}const Zn=J(Qt,Jn);function lt(e){return ce(Ue,e)}function at(e,t,o){const r=e.getAttribute(t);return e.setAttribute(t,o),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function eo({children:e,animation:t,styles:o,className:r,on:i,portal:c,close:s}){const[l,f]=n.useState(!1),[u,m]=n.useState(!1),v=n.useRef([]),C=n.useRef(null),{setTimeout:g}=be(),{subscribe:h}=xe(),P=$t()?0:t.fade;n.useEffect(()=>(f(!0),()=>{f(!1),m(!1)}),[]);const E=D(()=>{v.current.forEach(_=>_()),v.current=[]}),b=D(()=>{var _;m(!1),E(),(_=i.exiting)===null||_===void 0||_.call(i),g(()=>{var O;(O=i.exited)===null||O===void 0||O.call(i),s()},P)});n.useEffect(()=>h(te,b),[h,b]);const I=D(_=>{var O,y,R;_.scrollTop,m(!0),(O=i.entering)===null||O===void 0||O.call(i);const p=(R=(y=_.parentNode)===null||y===void 0?void 0:y.children)!==null&&R!==void 0?R:[];for(let x=0;x<p.length;x+=1){const N=p[x];["TEMPLATE","SCRIPT","STYLE"].indexOf(N.tagName)===-1&&N!==_&&(v.current.push(at(N,"inert","")),v.current.push(at(N,"aria-hidden","true")))}v.current.push(()=>{var x,N;(N=(x=C.current)===null||x===void 0?void 0:x.focus)===null||N===void 0||N.call(x)}),g(()=>{var x;(x=i.entered)===null||x===void 0||x.call(i)},P)}),M=n.useCallback(_=>{_?I(_):E()},[I,E]);return l?Gt.createPortal(n.createElement(kn,{ref:M,className:Y(r,L(lt()),L(ht),u&&L(lt("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==$e.animation.fade?{[V("fade_animation_duration")]:`${P}ms`}:null,...t.easing.fade!==$e.animation.easing.fade?{[V("fade_animation_timing_function")]:t.easing.fade}:null,...o.root},onFocus:_=>{C.current||(C.current=_.relatedTarget)}},e),c.root||document.body):null}const to=J(Ue,eo);function no({children:e}){return n.createElement(n.Fragment,null,e)}const oo=J(Jt,no);function ro(e){return ce(ft,e)}function io({toolbar:{buttons:e},render:{buttonClose:t,iconClose:o},styles:r}){const{close:i,setToolbarWidth:c}=ue(),{setContainerRef:s,containerRect:l}=Vt();ae(()=>{c(l==null?void 0:l.width)},[c,l==null?void 0:l.width]);const f=()=>t?t():n.createElement(Wt,{key:te,label:"Close",icon:In,renderIcon:o,onClick:i});return n.createElement("div",{ref:s,style:r.toolbar,className:L(ro())},e==null?void 0:e.map(u=>u===te?f():u))}const co=J(ft,io);function Bt(e,t){var o;return n.createElement(e.module.component,{key:e.module.name,...t},(o=e.children)===null||o===void 0?void 0:o.map(r=>Bt(r,t)))}function so(e,t={}){const{easing:o,...r}=e,{easing:i,...c}=t;return{easing:{...o,...i},...r,...c}}function ao({carousel:e,animation:t,render:o,toolbar:r,controller:i,noScroll:c,on:s,plugins:l,slides:f,index:u,...m}){const{animation:v,carousel:C,render:g,toolbar:h,controller:d,noScroll:P,on:E,slides:b,index:I,plugins:M,..._}=$e,{config:O,augmentation:y}=En([A(to,[A(Zn,[A(Bn,[A(zn),A(co),A(Gn)])])])],l||M),R=y({animation:so(v,t),carousel:{...C,...e},render:{...g,...o},toolbar:{...h,...r},controller:{...d,...i},noScroll:{...P,...c},on:{...E,...s},..._,...m});return R.open?n.createElement(bn,{...R},n.createElement(wn,{slides:f||b,index:Ee(u||I)},n.createElement(Ln,null,n.createElement(_n,null,Bt(A(oo,O),R))))):null}export{ao as L};
